@import com.malliina.play.models.Username
@import com.malliina.musicpimp.models.NewUser
@import util.div

@(users: Seq[Username], addForm: Form[NewUser], username: Username,  flash: Flash)
@manage("users", username) {
    @bs.row {
        @div("col-md-6") {
            @div("page-header") {
                <h1>Users</h1>
            }
            <table class="table table-striped table-hover">
                <thead>
                    <tr><th>Username</th><th>Actions</th></tr>
                </thead>
                <tbody>
                @users.map { u =>
                    <tr>
                        <td>@u</td>
                        <td><form action="@routes.Accounts.delete(u)" method="POST"><button class="btn btn-xs btn-danger">
                            Delete</button></form></td>
                    </tr>
                }
                </tbody>
            </table>
            @flash.get(Accounts.UsersFeedback).map { feedback =>
                <div class="lead alert alert-danger" role="alert">@feedback</div>
            }
        }
        @div("col-md-4") {
            @div("page-header") {
                <h1>Add user</h1>
            }
            @addUser(addForm, flash)
        }
    }
}